<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Admin Cpanel TMQ</title>

    <meta name="description" content="Admin Cpanel TMQ">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="apple-touch-icon" href="">
    <link rel="shortcut icon" href="">
    <link rel="stylesheet" th:href="@{/css/admin/cs-skin-elastic.css}">
    <link rel="stylesheet" th:href="@{/css/admin/style.css}">

    <!-- External CSS files -->
    <link rel="stylesheet" href="/css/admin/cs-skin-elastic.css">
    <link rel="stylesheet" href="/css/admin/style.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.0/normalize.min.css">
    <link rel="stylesheet" href="/css/admin/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lykmapipo/themify-icons@0.1.2/css/themify-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pixeden-stroke-7-icon@1.2.3/pe-icon-7-stroke/dist/pe-icon-7-stroke.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.0/css/flag-icon.min.css">
    <link rel="stylesheet" href="/css/admin/cs-skin-elastic.css">
    <!-- Thêm thư viện Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/chartist@0.11.0/dist/chartist.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/jqvmap@1.5.1/dist/jqvmap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/scss/mixins/_alert.scss" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/weathericons@2.1.0/css/weather-icons.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@3.9.0/dist/fullcalendar.min.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <!-- Sử dụng CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="...">

</head>

<body th:body>
<aside  id="left-panel" class="left-panel">
    <nav class="navbar navbar-expand-sm navbar-default">
        <div th:fragment="commonAside" id="main-menu" class="main-menu collapse navbar-collapse">
        <ul class="nav navbar-nav">
                <li>
                    <a href="/admin"><i class="menu-icon fa fa-laptop"></i>Dashboard </a>
                </li>
                <li class="menu-title">Quản lý chuyên mục</li><!-- /.menu-title -->
                <li>
                    <a href="admin/them-the-loai"> <i class="menu-icon fa fa-list-ol"></i>Thêm thể loại </a>
                </li>
                <li>
                    <a href="admin/truyen/add"> <i class="menu-icon fas fa-pen"></i>Đăng truyện</a>
                </li>
                <li>
                    <a href="admin/truyen/add-chuong"> <i class="menu-icon fas fa-pen"></i>Đăng chương</a>
                </li>

                <li>
                    <a href="admin/truyen/list"> <i class="menu-icon  fa  fa-list-alt"></i>Quản lý truyện tranh</a>
                </li>


                <li class="menu-title">Thành viên</li><!-- /.menu-title -->

                <li>
                    <a href="admin/qtv"> <i class="menu-icon ti-user"></i>Quản lý User</a>
                </li>
                <li>
                    <a href="admin/ctv"> <i class="menu-icon fa fa-user-md"></i>Quản lý Cộng tác viên</a>
                </li>
            <li>
                <a href="/admin/nap-tien"> <i class="menu-icon  fas fa-coins"></i>Nạp Tiền</a>
            </li>
                <li class="menu-title">Lịch sử hoạt động</li><!-- /.menu-title -->

                <li>
                    <a href="/admin/lich-su"> <i class="menu-icon fa fa-history"></i>Lịch sử đăng truyện</a>
                </li>

            </ul>
        </div><!-- /.navbar-collapse -->
    </nav>
</aside>

<div id="right-panel" class="right-panel">
    <header id="header" class="header">
        <div class="top-left">
            <div class="navbar-header">
                <a class="navbar-brand" href="/"><img style="width: 15%" src="/img/Logo.png" alt="Logo"></a>
            </div>
        </div>
        <div class="top-right">
            <div class="header-menu">
                <div class="user-area dropdown float-right">
                    <a href="../profile" class="dropdown-toggle active" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <img class="user-avatar rounded-circle" src="https://img.freepik.com/free-vector/businessman-character-avatar-isolated_24877-60111.jpg" alt="User Avatar">
                    </a>

                </div>

            </div>
        </div>
    </header>
    <div class="content">
        <canvas id="myChart" width="200" height="100"> </canvas>

        <script th:inline="javascript">
            /*<![CDATA[*/
            var chartData = /*[[${chartData}]]*/ [];

            var daysOfWeek = chartData.map(data => data.dayOfWeek);
            var numberOfStories = chartData.map(data => data.numberOfStories);

            var ctx = document.getElementById('myChart').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: daysOfWeek,
                    datasets: [{
                        label: 'Số lượng truyện',
                        data: numberOfStories,
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            /*]]>*/
        </script>
        <label> Biểu đồ truyện đăng trong 1 tuần</label>

        <canvas id="myChartChuong" width="200" height="100"></canvas>
        <script th:inline="javascript">
            // Dữ liệu mẫu
            var chartDataChuong = /*[[${chartDataChuong}]]*/ [];

            var daysOfWeek = chartDataChuong.map(data => data.dayOfWeek);
            var numberOfChuong= chartDataChuong.map(data => data.numberOfStories);


            // Lấy thẻ canvas
            var ctx = document.getElementById('myChartChuong').getContext('2d');

            // Tạo biểu đồ
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: daysOfWeek,
                    datasets: [{
                        label: 'Số lượng chương',
                        data: numberOfChuong,
                        backgroundColor: 'rgba(75, 192, 192, 0.2)', // Màu nền
                        borderColor: 'rgba(75, 192, 192, 1)', // Màu đường viền
                        borderWidth: 1 // Độ rộng đường viền
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        </script>
        <label> Biểu đồ chương đăng trong 1 tuần</label>
    </div>

</div>
<div>
<footer class="site-footer" style=" margin-top: auto;">
    <div class="footer-inner bg-white">
        <div class="row">
            <div class="col-sm-6">
                Copyright &copy; 2023 Admin Cpanel
            </div>
            <div class="col-sm-6 text-right">
                Designed by <a href="">Huynh Can</a>
            </div>
        </div>
    </div>
</footer>
</div>
</body>
</html>
